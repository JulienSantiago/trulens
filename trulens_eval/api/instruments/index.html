
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Evaluate and track LLM applications. Explain Deep Neural Nets.">
      
      
      
      
        <link rel="prev" href="../endpoint/openai/">
      
      
        <link rel="next" href="../utils/">
      
      
      <link rel="icon" href="../../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.3">
    
    
      
        <title>Instruments - ü¶ë TruLens</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.79e020e9.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.a5377069.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="trulens" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#instruments" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="ü¶ë TruLens" class="md-header__button md-logo" aria-label="ü¶ë TruLens" data-md-component="logo">
      
  <img src="../../../img/squid.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ü¶ë TruLens
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Instruments
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/truera/trulens" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    truera/trulens
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  üè† Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../getting_started/" class="md-tabs__link">
          
  
    
  
  üöÄ Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../evaluation/feedback_functions/" class="md-tabs__link">
          
  
    
  
  üéØ Evaluation

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tracking/instrumentation/" class="md-tabs__link">
          
  
    
  
  üé∫ Tracking

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../guides/use_cases_any/" class="md-tabs__link">
          
  
    
  
  üîç Guides

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../tru/" class="md-tabs__link">
          
  
    
  
  ‚òï API Reference

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../contributing/" class="md-tabs__link">
          
  
    
  
  ü§ù Contributing

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../trulens_explain/getting_started/install/" class="md-tabs__link">
          
  
    
  
  ‚ùì Explain

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="ü¶ë TruLens" class="md-nav__button md-logo" aria-label="ü¶ë TruLens" data-md-component="logo">
      
  <img src="../../../img/squid.png" alt="logo">

    </a>
    ü¶ë TruLens
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/truera/trulens" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    truera/trulens
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üè† Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../getting_started/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    üöÄ Getting Started
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            üöÄ Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üî® Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    üìì Quickstarts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            üìì Quickstarts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/quickstarts/quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üìì TruLens Quickstart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/quickstarts/langchain_quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üìì Langchain Quickstart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/quickstarts/llama_index_quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üìì Llama-Index Quickstart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/quickstarts/text2text_quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üìì Text to Text Quickstart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/quickstarts/groundtruth_evals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üìì Ground Truth Evaluations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/quickstarts/human_feedback/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üìì Logging Human Feedback
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Core Concepts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Core Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/core_concepts/feedback_functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feedback Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/core_concepts/rag_triad/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RAG Triad
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/core_concepts/honest_harmless_helpful_evals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Honest, Harmless, Helpful Evals
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    üéØ Evaluation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            üéØ Evaluation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../evaluation/feedback_functions/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Feedback Functions
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1" id="__nav_3_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Feedback Functions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/feedback_functions/anatomy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Anatomy of a Feedback Function
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/feedback_functions/guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Specification Guide
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Running Feedback Functions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Running Feedback Functions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/running_feedback_functions/with_app/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running with your app
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/running_feedback_functions/existing_data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running on existing data
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../evaluation/feedback_selectors/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Feedback Selectors
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Feedback Selectors
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/feedback_selectors/selecting_components/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Selecting Components
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/feedback_selectors/selector_shortcuts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shortcuts
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../evaluation/feedback_implementations/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Feedback Implementations
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Feedback Implementations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/feedback_implementations/stock/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üß∞ Stock Feedback Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/feedback_implementations/custom_feedback_functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üìì Custom Feedback Functions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/generate_test_cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Generating Test Cases
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Feedback Evaluations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Feedback Evaluations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/feedback_evaluations/answer_relevance_smoke_tests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üìì Answer Relevance Feedback Evaluation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/feedback_evaluations/context_relevance_smoke_tests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üìì Context Relevance Evaluations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/feedback_evaluations/groundedness_smoke_tests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üìì Groundedness Evaluations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    üé∫ Tracking
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            üé∫ Tracking
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tracking/instrumentation/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Instrumentation Overview
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1" id="__nav_4_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Instrumentation Overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../tracking/instrumentation/langchain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üìì ü¶úÔ∏èüîó LangChain Integration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../tracking/instrumentation/llama_index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üìì ü¶ô Llama-Index Integration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../tracking/instrumentation/nemo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üìì NeMo Guardrails Integration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Logging
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Logging
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../tracking/logging/where_to_log/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Where to Log
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../tracking/logging/logging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logging Methods
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    üîç Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            üîç Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/use_cases_any/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Any LLM App
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/use_cases_rag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RAGs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/use_cases_agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LLM Agents
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/use_cases_production/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dev to Prod
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    ‚òï API Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            ‚òï API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tru/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ü¶ë Tru
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../app/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    App
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_2" id="__nav_6_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            App
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../app/trubasicapp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TruBasicApp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../app/truchain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ü¶úÔ∏èüîó TruChain
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../app/trullama/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ü¶ô TruLlama
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../app/trurails/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TruRails
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../app/trucustom/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TruCustom
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../app/truvirtual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TruVirtual
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../feedback/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feedback
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../record/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Record
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../provider/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Provider
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_5" id="__nav_6_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            Provider
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../provider/llmprovider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LLMProvider
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../provider/openai/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    OpenAI
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_5_3" id="__nav_6_5_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5_3">
            <span class="md-nav__icon md-icon"></span>
            OpenAI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../provider/openai/azureopenai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AzureOpenAI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../provider/bedrock/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Bedrock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../provider/litellm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LiteLLM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../provider/langchain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ü¶úÔ∏èüîó Langchain
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../provider/huggingface/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ü§ó HuggingFace
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../endpoint/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Endpoint
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_5_8" id="__nav_6_5_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5_8">
            <span class="md-nav__icon md-icon"></span>
            Endpoint
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../endpoint/openai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Instruments
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Instruments
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#trulens_eval.instruments" class="md-nav__link">
    instruments
  </a>
  
    <nav class="md-nav" aria-label="instruments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--instrumentation" class="md-nav__link">
    Instrumentation
  </a>
  
    <nav class="md-nav" aria-label="Instrumentation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--designs-and-choices" class="md-nav__link">
    Designs and Choices
  </a>
  
    <nav class="md-nav" aria-label="Designs and Choices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--app-data" class="md-nav__link">
    App Data
  </a>
  
    <nav class="md-nav" aria-label="App Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--classsystem-specific" class="md-nav__link">
    class/system specific
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--pydantic-langchain" class="md-nav__link">
    pydantic (langchain)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--dataclasses-no-present-users" class="md-nav__link">
    dataclasses (no present users)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--dataclasses_json-llama_index" class="md-nav__link">
    dataclasses_json (llama_index)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--generic-python-portions-of-llama_index-and-all-else" class="md-nav__link">
    generic python (portions of llama_index and all else)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--trulens-specific-data" class="md-nav__link">
    TruLens-specific Data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--functionsmethods" class="md-nav__link">
    Functions/Methods
  </a>
  
    <nav class="md-nav" aria-label="Functions/Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--classsystem-specific_1" class="md-nav__link">
    class/system specific
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--pydantic-langchain_1" class="md-nav__link">
    pydantic (langchain)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--alternatives" class="md-nav__link">
    Alternatives
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--calls" class="md-nav__link">
    Calls
  </a>
  
    <nav class="md-nav" aria-label="Calls">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--call-data-argumentsreturns" class="md-nav__link">
    Call Data (Arguments/Returns)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--tricky" class="md-nav__link">
    Tricky
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--threads" class="md-nav__link">
    Threads
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--async" class="md-nav__link">
    Async
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--limitations" class="md-nav__link">
    Limitations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--alternatives_1" class="md-nav__link">
    Alternatives
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--calls-implementation-details" class="md-nav__link">
    Calls: Implementation Details
  </a>
  
    <nav class="md-nav" aria-label="Calls: Implementation Details">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--drawbacks" class="md-nav__link">
    Drawbacks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--alternatives_2" class="md-nav__link">
    Alternatives
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.WithInstrumentCallbacks" class="md-nav__link">
    WithInstrumentCallbacks
  </a>
  
    <nav class="md-nav" aria-label="WithInstrumentCallbacks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.WithInstrumentCallbacks-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.WithInstrumentCallbacks.on_method_instrumented" class="md-nav__link">
    on_method_instrumented()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.WithInstrumentCallbacks.get_method_path" class="md-nav__link">
    get_method_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.WithInstrumentCallbacks.get_methods_for_func" class="md-nav__link">
    get_methods_for_func()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.WithInstrumentCallbacks.on_new_record" class="md-nav__link">
    on_new_record()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.WithInstrumentCallbacks.on_add_record" class="md-nav__link">
    on_add_record()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument" class="md-nav__link">
    Instrument
  </a>
  
    <nav class="md-nav" aria-label="Instrument">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.INSTRUMENT" class="md-nav__link">
    INSTRUMENT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.APPS" class="md-nav__link">
    APPS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.Default" class="md-nav__link">
    Default
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.print_instrumentation" class="md-nav__link">
    print_instrumentation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.to_instrument_object" class="md-nav__link">
    to_instrument_object()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.to_instrument_class" class="md-nav__link">
    to_instrument_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.to_instrument_module" class="md-nav__link">
    to_instrument_module()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.tracked_method_wrapper" class="md-nav__link">
    tracked_method_wrapper()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.instrument_method" class="md-nav__link">
    instrument_method()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.instrument_class" class="md-nav__link">
    instrument_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.instrument_object" class="md-nav__link">
    instrument_object()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.instrument_bound_methods" class="md-nav__link">
    instrument_bound_methods()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.AddInstruments" class="md-nav__link">
    AddInstruments
  </a>
  
    <nav class="md-nav" aria-label="AddInstruments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.AddInstruments-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.AddInstruments.method" class="md-nav__link">
    method()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.AddInstruments.methods" class="md-nav__link">
    methods()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.instrument" class="md-nav__link">
    instrument
  </a>
  
    <nav class="md-nav" aria-label="instrument">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.instrument-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.instrument.__set_name__" class="md-nav__link">
    __set_name__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.class_filter_disjunction" class="md-nav__link">
    class_filter_disjunction()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.class_filter_matches" class="md-nav__link">
    class_filter_matches()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../utils/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Utils
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_7" id="__nav_6_7_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_7">
            <span class="md-nav__icon md-icon"></span>
            Utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Utilities
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/serial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Serialization Utilities
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/json/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JSON Utilities
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/frameworks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Framework Utilities
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utils/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Misc. Utilities
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../contributing/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    ü§ù Contributing
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            ü§ù Contributing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/standards/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ‚úÖ Standards
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/techdebt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üí£ Tech Debt
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  <span class="md-ellipsis">
    ‚ùì Explain
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            ‚ùì Explain
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1" >
        
          
          <label class="md-nav__link" for="__nav_8_1" id="__nav_8_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../trulens_explain/getting_started/install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../trulens_explain/getting_started/quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../trulens_explain/attribution_parameterization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Attributions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_3" >
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    ‚òï API Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            ‚òï API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../trulens_explain/api/attribution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Attribution
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../trulens_explain/api/model_wrappers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../trulens_explain/api/slices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Slices
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../trulens_explain/api/quantities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quantities
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../trulens_explain/api/distributions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Distributions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../trulens_explain/api/visualizations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visualizations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#trulens_eval.instruments" class="md-nav__link">
    instruments
  </a>
  
    <nav class="md-nav" aria-label="instruments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--instrumentation" class="md-nav__link">
    Instrumentation
  </a>
  
    <nav class="md-nav" aria-label="Instrumentation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--designs-and-choices" class="md-nav__link">
    Designs and Choices
  </a>
  
    <nav class="md-nav" aria-label="Designs and Choices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--app-data" class="md-nav__link">
    App Data
  </a>
  
    <nav class="md-nav" aria-label="App Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--classsystem-specific" class="md-nav__link">
    class/system specific
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--pydantic-langchain" class="md-nav__link">
    pydantic (langchain)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--dataclasses-no-present-users" class="md-nav__link">
    dataclasses (no present users)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--dataclasses_json-llama_index" class="md-nav__link">
    dataclasses_json (llama_index)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--generic-python-portions-of-llama_index-and-all-else" class="md-nav__link">
    generic python (portions of llama_index and all else)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--trulens-specific-data" class="md-nav__link">
    TruLens-specific Data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--functionsmethods" class="md-nav__link">
    Functions/Methods
  </a>
  
    <nav class="md-nav" aria-label="Functions/Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--classsystem-specific_1" class="md-nav__link">
    class/system specific
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--pydantic-langchain_1" class="md-nav__link">
    pydantic (langchain)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--alternatives" class="md-nav__link">
    Alternatives
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--calls" class="md-nav__link">
    Calls
  </a>
  
    <nav class="md-nav" aria-label="Calls">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--call-data-argumentsreturns" class="md-nav__link">
    Call Data (Arguments/Returns)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--tricky" class="md-nav__link">
    Tricky
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--threads" class="md-nav__link">
    Threads
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--async" class="md-nav__link">
    Async
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--limitations" class="md-nav__link">
    Limitations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--alternatives_1" class="md-nav__link">
    Alternatives
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--calls-implementation-details" class="md-nav__link">
    Calls: Implementation Details
  </a>
  
    <nav class="md-nav" aria-label="Calls: Implementation Details">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--drawbacks" class="md-nav__link">
    Drawbacks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments--alternatives_2" class="md-nav__link">
    Alternatives
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.WithInstrumentCallbacks" class="md-nav__link">
    WithInstrumentCallbacks
  </a>
  
    <nav class="md-nav" aria-label="WithInstrumentCallbacks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.WithInstrumentCallbacks-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.WithInstrumentCallbacks.on_method_instrumented" class="md-nav__link">
    on_method_instrumented()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.WithInstrumentCallbacks.get_method_path" class="md-nav__link">
    get_method_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.WithInstrumentCallbacks.get_methods_for_func" class="md-nav__link">
    get_methods_for_func()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.WithInstrumentCallbacks.on_new_record" class="md-nav__link">
    on_new_record()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.WithInstrumentCallbacks.on_add_record" class="md-nav__link">
    on_add_record()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument" class="md-nav__link">
    Instrument
  </a>
  
    <nav class="md-nav" aria-label="Instrument">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument-attributes" class="md-nav__link">
    Attributes
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.INSTRUMENT" class="md-nav__link">
    INSTRUMENT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.APPS" class="md-nav__link">
    APPS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.Default" class="md-nav__link">
    Default
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.print_instrumentation" class="md-nav__link">
    print_instrumentation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.to_instrument_object" class="md-nav__link">
    to_instrument_object()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.to_instrument_class" class="md-nav__link">
    to_instrument_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.to_instrument_module" class="md-nav__link">
    to_instrument_module()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.tracked_method_wrapper" class="md-nav__link">
    tracked_method_wrapper()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.instrument_method" class="md-nav__link">
    instrument_method()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.instrument_class" class="md-nav__link">
    instrument_class()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.instrument_object" class="md-nav__link">
    instrument_object()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.Instrument.instrument_bound_methods" class="md-nav__link">
    instrument_bound_methods()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.AddInstruments" class="md-nav__link">
    AddInstruments
  </a>
  
    <nav class="md-nav" aria-label="AddInstruments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.AddInstruments-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.AddInstruments.method" class="md-nav__link">
    method()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.AddInstruments.methods" class="md-nav__link">
    methods()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.instrument" class="md-nav__link">
    instrument
  </a>
  
    <nav class="md-nav" aria-label="instrument">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.instrument-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.instrument.__set_name__" class="md-nav__link">
    __set_name__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.class_filter_disjunction" class="md-nav__link">
    class_filter_disjunction()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trulens_eval.instruments.class_filter_matches" class="md-nav__link">
    class_filter_matches()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="instruments">Instruments<a class="headerlink" href="#instruments" title="Permanent link">&para;</a></h1>


<div class="doc doc-object doc-module">




<h2 id="trulens_eval.instruments" class="doc doc-heading">
          <span class="doc doc-object-name doc-module-name">trulens_eval.instruments</span>


<a href="#trulens_eval.instruments" class="headerlink" title="Permanent link">&para;</a></h2>

  <div class="doc doc-contents first">
  
      <h3 id="trulens_eval.instruments--instrumentation">Instrumentation<a class="headerlink" href="#trulens_eval.instruments--instrumentation" title="Permanent link">&para;</a></h3>
<p>This module contains the core of the app instrumentation scheme employed by
trulens_eval to track and record apps. These details should not be relevant for
typical use cases.</p>
<h4 id="trulens_eval.instruments--designs-and-choices">Designs and Choices<a class="headerlink" href="#trulens_eval.instruments--designs-and-choices" title="Permanent link">&para;</a></h4>
<h5 id="trulens_eval.instruments--app-data">App Data<a class="headerlink" href="#trulens_eval.instruments--app-data" title="Permanent link">&para;</a></h5>
<p>We collect app components and parameters by walking over its structure and
producing a json reprensentation with everything we deem relevant to track. The
function <a class="autorefs autorefs-internal" href="../utils/json/#trulens_eval.utils.json.jsonify">jsonify</a> is the root of this process.</p>
<h6 id="trulens_eval.instruments--classsystem-specific">class/system specific<a class="headerlink" href="#trulens_eval.instruments--classsystem-specific" title="Permanent link">&para;</a></h6>
<h6 id="trulens_eval.instruments--pydantic-langchain">pydantic (langchain)<a class="headerlink" href="#trulens_eval.instruments--pydantic-langchain" title="Permanent link">&para;</a></h6>
<p>Classes inheriting <a class="autorefs autorefs-external" href="https://docs.pydantic.dev/latest/api/base_model/#pydantic.BaseModel">BaseModel</a> come with serialization
to/from json in the form of <a class="autorefs autorefs-external" href="https://docs.pydantic.dev/latest/api/base_model/#pydantic.BaseModel.model_dump">model_dump</a> and
<a class="autorefs autorefs-external" href="https://docs.pydantic.dev/latest/api/base_model/#pydantic.BaseModel.model_validate">model_validate</a>. We do not use the
serialization to json part of this capability as a lot of langchain components
are tripped to fail it with a "will not serialize" message. However, we use make
use of pydantic <code>fields</code> to enumerate components of an object ourselves saving
us from having to filter out irrelevant internals that are not declared as
fields.</p>
<p>We make use of pydantic's deserialization, however, even for our own internal
structures (see <code>schema.py</code> for example).</p>
<h6 id="trulens_eval.instruments--dataclasses-no-present-users">dataclasses (no present users)<a class="headerlink" href="#trulens_eval.instruments--dataclasses-no-present-users" title="Permanent link">&para;</a></h6>
<p>The built-in dataclasses package has similar functionality to pydantic. We
use/serialize them using their field information.</p>
<h6 id="trulens_eval.instruments--dataclasses_json-llama_index">dataclasses_json (llama_index)<a class="headerlink" href="#trulens_eval.instruments--dataclasses_json-llama_index" title="Permanent link">&para;</a></h6>
<p>Placeholder. No present special handling.</p>
<h6 id="trulens_eval.instruments--generic-python-portions-of-llama_index-and-all-else">generic python (portions of llama_index and all else)<a class="headerlink" href="#trulens_eval.instruments--generic-python-portions-of-llama_index-and-all-else" title="Permanent link">&para;</a></h6>
<h6 id="trulens_eval.instruments--trulens-specific-data">TruLens-specific Data<a class="headerlink" href="#trulens_eval.instruments--trulens-specific-data" title="Permanent link">&para;</a></h6>
<p>In addition to collecting app parameters, we also collect:</p>
<ul>
<li>
<p>(subset of components) App class information:</p>
<ul>
<li>This allows us to deserialize some objects. Pydantic models can be
  deserialized once we know their class and fields, for example.</li>
<li>This information is also used to determine component types without having
  to deserialize them first. </li>
<li>See <a class="autorefs autorefs-internal" href="../utils/python/#trulens_eval.utils.pyschema.Class">Class</a> for details.</li>
</ul>
</li>
</ul>
<h5 id="trulens_eval.instruments--functionsmethods">Functions/Methods<a class="headerlink" href="#trulens_eval.instruments--functionsmethods" title="Permanent link">&para;</a></h5>
<p>Methods and functions are instrumented by overwriting choice attributes in
various classes. </p>
<h6 id="trulens_eval.instruments--classsystem-specific_1">class/system specific<a class="headerlink" href="#trulens_eval.instruments--classsystem-specific_1" title="Permanent link">&para;</a></h6>
<h6 id="trulens_eval.instruments--pydantic-langchain_1">pydantic (langchain)<a class="headerlink" href="#trulens_eval.instruments--pydantic-langchain_1" title="Permanent link">&para;</a></h6>
<p>Most if not all langchain components use pydantic which imposes some
restrictions but also provides some utilities. Classes inheriting
<a class="autorefs autorefs-external" href="https://docs.pydantic.dev/latest/api/base_model/#pydantic.BaseModel">BaseModel</a> do not allow defining new attributes but
existing attributes including those provided by pydantic itself can be
overwritten (like dict, for example). Presently, we override methods with
instrumented versions.</p>
<h6 id="trulens_eval.instruments--alternatives">Alternatives<a class="headerlink" href="#trulens_eval.instruments--alternatives" title="Permanent link">&para;</a></h6>
<ul>
<li>
<p><code>intercepts</code> package (see <a href="https://github.com/dlshriver/intercepts">https://github.com/dlshriver/intercepts</a>)</p>
<p>Low level instrumentation of functions but is architecture and platform
dependent with no darwin nor arm64 support as of June 07, 2023.</p>
</li>
<li>
<p><code>sys.setprofile</code> (see
  <a href="https://docs.python.org/3/library/sys.html#sys.setprofile">https://docs.python.org/3/library/sys.html#sys.setprofile</a>)</p>
<p>Might incur much overhead and all calls and other event types get
intercepted and result in a callback.</p>
</li>
<li>
<p>langchain/llama_index callbacks. Each of these packages come with some
  callback system that lets one get various intermediate app results. The
  drawbacks is the need to handle different callback systems for each system and
  potentially missing information not exposed by them.</p>
</li>
<li>
<p><code>wrapt</code> package (see <a href="https://pypi.org/project/wrapt/">https://pypi.org/project/wrapt/</a>)</p>
<p>This is only for wrapping functions or classes to resemble their original
but does not help us with wrapping existing methods in langchain, for
example. We might be able to use it as part of our own wrapping scheme though.</p>
</li>
</ul>
<h5 id="trulens_eval.instruments--calls">Calls<a class="headerlink" href="#trulens_eval.instruments--calls" title="Permanent link">&para;</a></h5>
<p>The instrumented versions of functions/methods record the inputs/outputs and
some additional data (see
<a class="autorefs autorefs-internal" href="../record/#trulens_eval.schema.RecordAppCallMethod">RecordAppCallMethod</a>). As more than
one instrumented call may take place as part of a app invokation, they are
collected and returned together in the <code>calls</code> field of
<a class="autorefs autorefs-internal" href="../record/#trulens_eval.schema.Record">Record</a>.</p>
<p>Calls can be connected to the components containing the called method via the
<code>path</code> field of <a class="autorefs autorefs-internal" href="../record/#trulens_eval.schema.RecordAppCallMethod">RecordAppCallMethod</a>.
This class also holds information about the instrumented method.</p>
<h6 id="trulens_eval.instruments--call-data-argumentsreturns">Call Data (Arguments/Returns)<a class="headerlink" href="#trulens_eval.instruments--call-data-argumentsreturns" title="Permanent link">&para;</a></h6>
<p>The arguments to a call and its return are converted to json using the same
tools as App Data (see above).</p>
<h6 id="trulens_eval.instruments--tricky">Tricky<a class="headerlink" href="#trulens_eval.instruments--tricky" title="Permanent link">&para;</a></h6>
<ul>
<li>
<p>The same method call with the same <code>path</code> may be recorded multiple times in a
  <code>Record</code> if the method makes use of multiple of its versions in the class
  hierarchy (i.e. an extended class calls its parents for part of its task). In
  these circumstances, the <code>method</code> field of
  <a class="autorefs autorefs-internal" href="../record/#trulens_eval.schema.RecordAppCallMethod">RecordAppCallMethod</a> will
  distinguish the different versions of the method.</p>
</li>
<li>
<p>Thread-safety -- it is tricky to use global data to keep track of instrumented
  method calls in presence of multiple threads. For this reason we do not use
  global data and instead hide instrumenting data in the call stack frames of
  the instrumentation methods. See
  <a class="autorefs autorefs-internal" href="../utils/python/#trulens_eval.utils.python.get_all_local_in_call_stack">get_all_local_in_call_stack</a>.</p>
</li>
<li>
<p>Generators and Awaitables -- If an instrumented call produces a generator or
  awaitable, we cannot produce the full record right away. We instead create a
  record with placeholder values for the yet-to-be produce pieces. We then
  instrument (i.e. replace them in the returned data) those pieces with (TODO
  generators) or awaitables that will update the record when they get eventually
  awaited (or generated).</p>
</li>
</ul>
<h6 id="trulens_eval.instruments--threads">Threads<a class="headerlink" href="#trulens_eval.instruments--threads" title="Permanent link">&para;</a></h6>
<p>Threads do not inherit call stacks from their creator. This is a problem due to
our reliance on info stored on the stack. Therefore we have a limitation:</p>
<ul>
<li><strong>Limitation</strong>: Threads need to be started using the utility class
  <a class="autorefs autorefs-internal" href="../utils/python/#trulens_eval.utils.threading.TP">TP</a> or
  <a class="autorefs autorefs-internal" href="../utils/python/#trulens_eval.utils.threading.ThreadPoolExecutor">ThreadPoolExecutor</a> also
  defined in <code>utils/threading.py</code> in order for instrumented methods called in a
  thread to be tracked. As we rely on call stack for call instrumentation we
  need to preserve the stack before a thread start which python does not do. </li>
</ul>
<h6 id="trulens_eval.instruments--async">Async<a class="headerlink" href="#trulens_eval.instruments--async" title="Permanent link">&para;</a></h6>
<p>Similar to threads, code run as part of a <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/asyncio-task.html#asyncio.Task">asyncio.Task</a> does not inherit
the stack of the creator. Our current solution instruments
<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.new_event_loop">asyncio.new_event_loop</a> to make sure all tasks that get created
in <code>async</code> track the stack of their creator. This is done in
<a class="autorefs autorefs-internal" href="../utils/python/#trulens_eval.utils.python.tru_new_event_loop">tru_new_event_loop</a> . The
function <a class="autorefs autorefs-internal" href="../utils/python/#trulens_eval.utils.python.stack_with_tasks">stack_with_tasks</a> is then
used to integrate this information with the normal caller stack when needed.
This may cause incompatibility issues when other tools use their own event loops
or interfere with this instrumentation in other ways. Note that some async
functions that seem to not involve <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/asyncio-task.html#asyncio.Task">Task</a> do use tasks, such as
<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/asyncio-task.html#asyncio.gather">gather</a>.</p>
<ul>
<li><strong>Limitation</strong>: <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/asyncio-task.html#asyncio.Task">Task</a>s must be created via our <code>task_factory</code>
  as per
  <a class="autorefs autorefs-internal" href="../utils/python/#trulens_eval.utils.python.task_factory_with_stack">task_factory_with_stack</a>.
  This includes tasks created by function such as <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/asyncio-task.html#asyncio.gather">asyncio.gather</a>. This
  limitation is not expected to be a problem given our instrumentation except if
  other tools are used that modify <code>async</code> in some ways.</li>
</ul>
<h6 id="trulens_eval.instruments--limitations">Limitations<a class="headerlink" href="#trulens_eval.instruments--limitations" title="Permanent link">&para;</a></h6>
<ul>
<li>
<p>Threading and async limitations. See <strong>Threads</strong> and <strong>Async</strong> .</p>
</li>
<li>
<p>If the same wrapped sub-app is called multiple times within a single call to
  the root app, the record of this execution will not be exact with regards to
  the path to the call information. All call paths will address the last subapp
  (by order in which it is instrumented). For example, in a sequential app
  containing two of the same app, call records will be addressed to the second
  of the (same) apps and contain a list describing calls of both the first and
  second.</p>
</li>
</ul>
<p>TODO(piotrm): This might have been fixed. Check.</p>
<ul>
<li>
<p>Some apps cannot be serialized/jsonized. Sequential app is an example. This is
  a limitation of langchain itself.</p>
</li>
<li>
<p>Instrumentation relies on CPython specifics, making heavy use of the
  <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/inspect.html#module-inspect">inspect</a> module which is not expected to work with other Python
  implementations.</p>
</li>
</ul>
<h6 id="trulens_eval.instruments--alternatives_1">Alternatives<a class="headerlink" href="#trulens_eval.instruments--alternatives_1" title="Permanent link">&para;</a></h6>
<ul>
<li>langchain/llama_index callbacks. These provide information about component
  invocations but the drawbacks are need to cover disparate callback systems and
  possibly missing information not covered.</li>
</ul>
<h5 id="trulens_eval.instruments--calls-implementation-details">Calls: Implementation Details<a class="headerlink" href="#trulens_eval.instruments--calls-implementation-details" title="Permanent link">&para;</a></h5>
<p>Our tracking of calls uses instrumentated versions of methods to manage the
recording of inputs/outputs. The instrumented methods must distinguish
themselves from invocations of apps that are being tracked from those not being
tracked, and of those that are tracked, where in the call stack a instrumented
method invocation is. To achieve this, we rely on inspecting the python call
stack for specific frames:</p>
<ul>
<li>Prior frame -- Each instrumented call searches for the topmost instrumented
  call (except itself) in the stack to check its immediate caller (by immediate
  we mean only among instrumented methods) which forms the basis of the stack
  information recorded alongside the inputs/outputs.</li>
</ul>
<h6 id="trulens_eval.instruments--drawbacks">Drawbacks<a class="headerlink" href="#trulens_eval.instruments--drawbacks" title="Permanent link">&para;</a></h6>
<ul>
<li>
<p>Python call stacks are implementation dependent and we do not expect to
  operate on anything other than CPython.</p>
</li>
<li>
<p>Python creates a fresh empty stack for each thread. Because of this, we need
  special handling of each thread created to make sure it keeps a hold of the
  stack prior to thread creation. Right now we do this in our threading utility
  class TP but a more complete solution may be the instrumentation of
  <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/threading.html#threading.Thread">threading.Thread</a> class.</p>
</li>
</ul>
<h6 id="trulens_eval.instruments--alternatives_2">Alternatives<a class="headerlink" href="#trulens_eval.instruments--alternatives_2" title="Permanent link">&para;</a></h6>
<ul>
<li>
<p><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/contextvars.html#module-contextvars">contextvars</a> -- langchain uses these to manage contexts such as those used
  for instrumenting/tracking LLM usage. These can be used to manage call stack
  information like we do. The drawback is that these are not threadsafe or at
  least need instrumenting thread creation. We have to do a similar thing by
  requiring threads created by our utility package which does stack management
  instead of contextvar management.</p>
<p>NOTE(piotrm): it seems to be standard thing to do to copy the contextvars into
new threads so it might be a better idea to use contextvars instead of stack
inspection.</p>
</li>
</ul>

  

  <div class="doc doc-children">






<h3 id="trulens_eval.instruments-classes">Classes<a href="#trulens_eval.instruments-classes" class="headerlink" title="Permanent link">&para;</a></h3>

<div class="doc doc-object doc-class">




<h4 id="trulens_eval.instruments.WithInstrumentCallbacks" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">WithInstrumentCallbacks</span>


<a href="#trulens_eval.instruments.WithInstrumentCallbacks" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

  
      <p>Abstract definition of callbacks invoked by Instrument during
instrumentation or when instrumented methods are called.</p>
<p>Needs to be mixed into <a class="autorefs autorefs-internal" href="../app/#trulens_eval.app.App">App</a>.</p>


  

  <div class="doc doc-children">







<h5 id="trulens_eval.instruments.WithInstrumentCallbacks-functions">Functions<a href="#trulens_eval.instruments.WithInstrumentCallbacks-functions" class="headerlink" title="Permanent link">&para;</a></h5>


<div class="doc doc-object doc-function">




<h6 id="trulens_eval.instruments.WithInstrumentCallbacks.on_method_instrumented" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">on_method_instrumented</span>


<a href="#trulens_eval.instruments.WithInstrumentCallbacks.on_method_instrumented" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">on_method_instrumented</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Lens</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Callback to be called by instrumentation system for every function
requested to be instrumented.</p>
<p>Given are the object of the class in which <code>func</code> belongs
(i.e. the "self" for that function), the <code>func</code> itsels, and the <code>path</code>
of the owner object in the app hierarchy.</p>



  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b> DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>obj</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The object of the class in which <code>func</code> belongs (i.e. the
"self" for that method).</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#object">object</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>func</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The function that was instrumented. Expects the unbound
version (self not yet bound).</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>path</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The path of the owner object in the app hierarchy.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="trulens_eval.utils.serial.Lens" href="../utils/serial/#trulens_eval.utils.serial.Lens">Lens</a></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="trulens_eval.instruments.WithInstrumentCallbacks.get_method_path" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_method_path</span>


<a href="#trulens_eval.instruments.WithInstrumentCallbacks.get_method_path" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get_method_path</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Lens</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the path of the instrumented function <code>func</code>, a member of the class
of <code>obj</code> relative to this app.</p>



  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b> DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>obj</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The object of the class in which <code>func</code> belongs (i.e. the
"self" for that method).</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#object">object</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>func</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The function that was instrumented. Expects the unbound
version (self not yet bound).</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="trulens_eval.instruments.WithInstrumentCallbacks.get_methods_for_func" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_methods_for_func</span>


<a href="#trulens_eval.instruments.WithInstrumentCallbacks.get_methods_for_func" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get_methods_for_func</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Lens</span><span class="p">]]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the methods (rather the inner functions) matching the given <code>func</code>
and the path of each.</p>



  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b> DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>func</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The function to match.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="trulens_eval.instruments.WithInstrumentCallbacks.on_new_record" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">on_new_record</span>


<a href="#trulens_eval.instruments.WithInstrumentCallbacks.on_new_record" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">on_new_record</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Called by instrumented methods in cases where they cannot find a record
call list in the stack. If we are inside a context manager, return a new
call list.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="trulens_eval.instruments.WithInstrumentCallbacks.on_add_record" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">on_add_record</span>


<a href="#trulens_eval.instruments.WithInstrumentCallbacks.on_add_record" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">on_add_record</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="s1">&#39;RecordingContext&#39;</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">sig</span><span class="p">:</span> <span class="n">Signature</span><span class="p">,</span> <span class="n">bindings</span><span class="p">:</span> <span class="n">BoundArguments</span><span class="p">,</span> <span class="n">ret</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">error</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">perf</span><span class="p">:</span> <span class="n">Perf</span><span class="p">,</span> <span class="n">cost</span><span class="p">:</span> <span class="n">Cost</span><span class="p">,</span> <span class="n">existing_record</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Record</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Called by instrumented methods if they are root calls (first instrumned
methods in a call stack).</p>



  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b> DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>ctx</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The context of the recording.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code>&#39;RecordingContext&#39;</code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>func</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The function that was called.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>sig</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The signature of the function.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="inspect.Signature" href="https://docs.python.org/3/library/inspect.html#inspect.Signature">Signature</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>bindings</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The bound arguments of the function.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="inspect.BoundArguments" href="https://docs.python.org/3/library/inspect.html#inspect.BoundArguments">BoundArguments</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>ret</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The return value of the function.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>error</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The error raised by the function if any.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>perf</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The performance of the function.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="trulens_eval.schema.Perf" href="../record/#trulens_eval.schema.Perf">Perf</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>cost</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The cost of the function.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-internal" title="trulens_eval.schema.Cost" href="../record/#trulens_eval.schema.Cost">Cost</a></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>existing_record</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>If the record has already been produced (i.e.
because it was an awaitable), it can be passed here to avoid
re-creating it.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-internal" title="trulens_eval.schema.Record" href="../record/#trulens_eval.schema.Record">Record</a>]</code>
                </span>
                <span class="doc-param-default">
                  <b>DEFAULT:</b> 
                    <code>None</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="trulens_eval.instruments.Instrument" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">Instrument</span>


<a href="#trulens_eval.instruments.Instrument" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#object">object</a></code></p>

  
      <p>Instrumentation tools.</p>


  

  <div class="doc doc-children">





<h5 id="trulens_eval.instruments.Instrument-attributes">Attributes<a href="#trulens_eval.instruments.Instrument-attributes" class="headerlink" title="Permanent link">&para;</a></h5>

<div class="doc doc-object doc-attribute">




<h6 id="trulens_eval.instruments.Instrument.INSTRUMENT" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">INSTRUMENT</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#trulens_eval.instruments.Instrument.INSTRUMENT" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">INSTRUMENT</span> <span class="o">=</span> <span class="s1">&#39;__tru_instrumented&#39;</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Attribute name to be used to flag instrumented objects/methods/others.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h6 id="trulens_eval.instruments.Instrument.APPS" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">APPS</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#trulens_eval.instruments.Instrument.APPS" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">APPS</span> <span class="o">=</span> <span class="s1">&#39;__tru_apps&#39;</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Attribute name for storing apps that expect to be notified of calls.</p>
  </div>

</div>
<h5 id="trulens_eval.instruments.Instrument-classes">Classes<a href="#trulens_eval.instruments.Instrument-classes" class="headerlink" title="Permanent link">&para;</a></h5>

<div class="doc doc-object doc-class">




<h6 id="trulens_eval.instruments.Instrument.Default" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">Default</span>


<a href="#trulens_eval.instruments.Instrument.Default" class="headerlink" title="Permanent link">&para;</a></h6>


  <div class="doc doc-contents ">

  
      <p>Default instrumentation configuration.</p>
<p>Additional components are included in subclasses of
<a class="autorefs autorefs-internal" href="#trulens_eval.instruments.Instrument">Instrument</a>.</p>


  

  <div class="doc doc-children">





<h7 id="trulens_eval.instruments.Instrument.Default-attributes">Attributes<a href="#trulens_eval.instruments.Instrument.Default-attributes" class="headerlink" title="Permanent link">&para;</a></h7>

<div class="doc doc-object doc-attribute">




<h8 id="trulens_eval.instruments.Instrument.Default.MODULES" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">MODULES</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#trulens_eval.instruments.Instrument.Default.MODULES" class="headerlink" title="Permanent link">&para;</a></h8>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">MODULES</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;trulens_eval.&#39;</span><span class="p">}</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Modules (by full name prefix) to instrument.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h8 id="trulens_eval.instruments.Instrument.Default.CLASSES" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">CLASSES</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#trulens_eval.instruments.Instrument.Default.CLASSES" class="headerlink" title="Permanent link">&para;</a></h8>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">CLASSES</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">Feedback</span><span class="p">])</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Classes to instrument.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h8 id="trulens_eval.instruments.Instrument.Default.METHODS" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">METHODS</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#trulens_eval.instruments.Instrument.Default.METHODS" class="headerlink" title="Permanent link">&para;</a></h8>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">METHODS</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ClassFilter</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;__call__&#39;</span><span class="p">:</span> <span class="n">Feedback</span><span class="p">}</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Methods to instrument.</p>
<p>Methods matching name have to pass the filter to be instrumented.</p>
  </div>

</div>





  </div>

  </div>

</div>
<h5 id="trulens_eval.instruments.Instrument-functions">Functions<a href="#trulens_eval.instruments.Instrument-functions" class="headerlink" title="Permanent link">&para;</a></h5>


<div class="doc doc-object doc-function">




<h6 id="trulens_eval.instruments.Instrument.print_instrumentation" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">print_instrumentation</span>


<a href="#trulens_eval.instruments.Instrument.print_instrumentation" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">print_instrumentation</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Print out description of the modules, classes, methods this class
will instrument.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="trulens_eval.instruments.Instrument.to_instrument_object" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">to_instrument_object</span>


<a href="#trulens_eval.instruments.Instrument.to_instrument_object" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">to_instrument_object</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Determine whether the given object should be instrumented.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="trulens_eval.instruments.Instrument.to_instrument_class" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">to_instrument_class</span>


<a href="#trulens_eval.instruments.Instrument.to_instrument_class" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">to_instrument_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Determine whether the given class should be instrumented.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="trulens_eval.instruments.Instrument.to_instrument_module" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">to_instrument_module</span>


<a href="#trulens_eval.instruments.Instrument.to_instrument_module" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">to_instrument_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Determine whether a module with the given (full) name should be instrumented.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="trulens_eval.instruments.Instrument.tracked_method_wrapper" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">tracked_method_wrapper</span>


<a href="#trulens_eval.instruments.Instrument.tracked_method_wrapper" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">tracked_method_wrapper</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="n">Lens</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">method_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Wrap a method to capture its inputs/outputs/errors.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="trulens_eval.instruments.Instrument.instrument_method" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">instrument_method</span>


<a href="#trulens_eval.instruments.Instrument.instrument_method" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">instrument_method</span><span class="p">(</span><span class="n">method_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="n">Lens</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Instrument a method.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="trulens_eval.instruments.Instrument.instrument_class" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">instrument_class</span>


<a href="#trulens_eval.instruments.Instrument.instrument_class" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">instrument_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Instrument the given class <code>cls</code>'s <strong>new</strong> method.</p>
<p>This is done so we can be aware when new instances are created and is
needed for wrapped methods that dynamically create instances of classes
we wish to instrument. As they will not be visible at the time we wrap
the app, we need to pay attention to <strong>new</strong> to make a note of them when
they are created and the creator's path. This path will be used to place
these new instances in the app json structure.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="trulens_eval.instruments.Instrument.instrument_object" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">instrument_object</span>


<a href="#trulens_eval.instruments.Instrument.instrument_object" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">instrument_object</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="n">Lens</span><span class="p">,</span> <span class="n">done</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Instrument the given object <code>obj</code> and its components.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="trulens_eval.instruments.Instrument.instrument_bound_methods" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">instrument_bound_methods</span>


<a href="#trulens_eval.instruments.Instrument.instrument_bound_methods" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">instrument_bound_methods</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="n">Lens</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Instrument functions that may be bound methods.</p>
<p>Some apps include either anonymous functions or manipulates methods that
have self bound already. Our other instrumentation cannot handle those cases.</p>
<p>EXPERIMENTAL: Work in progress.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="trulens_eval.instruments.AddInstruments" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">AddInstruments</span>


<a href="#trulens_eval.instruments.AddInstruments" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">

  
      <p>Utilities for adding more things to default instrumentation filters.</p>


  

  <div class="doc doc-children">







<h5 id="trulens_eval.instruments.AddInstruments-functions">Functions<a href="#trulens_eval.instruments.AddInstruments-functions" class="headerlink" title="Permanent link">&para;</a></h5>


<div class="doc doc-object doc-function">




<h6 id="trulens_eval.instruments.AddInstruments.method" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">method</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#trulens_eval.instruments.AddInstruments.method" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">method</span><span class="p">(</span><span class="n">of_cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Add the class with a method named <code>name</code>, its module, and the method
<code>name</code> to the Default instrumentation walk filters.</p>

  </div>

</div>


<div class="doc doc-object doc-function">




<h6 id="trulens_eval.instruments.AddInstruments.methods" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">methods</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#trulens_eval.instruments.AddInstruments.methods" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">methods</span><span class="p">(</span><span class="n">of_cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">,</span> <span class="n">names</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Add the class with methods named <code>names</code>, its module, and the named
methods to the Default instrumentation walk filters.</p>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h4 id="trulens_eval.instruments.instrument" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">instrument</span>


<a href="#trulens_eval.instruments.instrument" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><a class="autorefs autorefs-internal" title="trulens_eval.instruments.AddInstruments" href="#trulens_eval.instruments.AddInstruments">AddInstruments</a></code></p>

  
      <p>Decorator for marking methods to be instrumented in custom classes that are wrapped by App.</p>


  

  <div class="doc doc-children">







<h5 id="trulens_eval.instruments.instrument-functions">Functions<a href="#trulens_eval.instruments.instrument-functions" class="headerlink" title="Permanent link">&para;</a></h5>


<div class="doc doc-object doc-function">




<h6 id="trulens_eval.instruments.instrument.__set_name__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__set_name__</span>


<a href="#trulens_eval.instruments.instrument.__set_name__" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">__set_name__</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>For use as method decorator.</p>

  </div>

</div>



  </div>

  </div>

</div>
<h3 id="trulens_eval.instruments-functions">Functions<a href="#trulens_eval.instruments-functions" class="headerlink" title="Permanent link">&para;</a></h3>


<div class="doc doc-object doc-function">




<h4 id="trulens_eval.instruments.class_filter_disjunction" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">class_filter_disjunction</span>


<a href="#trulens_eval.instruments.class_filter_disjunction" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">class_filter_disjunction</span><span class="p">(</span><span class="n">f1</span><span class="p">:</span> <span class="n">ClassFilter</span><span class="p">,</span> <span class="n">f2</span><span class="p">:</span> <span class="n">ClassFilter</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ClassFilter</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a disjunction of two class filters.</p>



  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b> DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>f1</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The first filter.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><span title="trulens_eval.instruments.ClassFilter">ClassFilter</span></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>f2</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The second filter.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><span title="trulens_eval.instruments.ClassFilter">ClassFilter</span></code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h4 id="trulens_eval.instruments.class_filter_matches" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">class_filter_matches</span>


<a href="#trulens_eval.instruments.class_filter_matches" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">class_filter_matches</span><span class="p">(</span><span class="n">f</span><span class="p">:</span> <span class="n">ClassFilter</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Type</span><span class="p">,</span> <span class="nb">object</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Check whether given object matches a class-based filter.</p>
<p>A class-based filter here means either a type to match against object
(isinstance if object is not a type or issubclass if object is a type),
or a tuple of types to match against interpreted disjunctively.</p>



  <table>
    <thead>
      <tr>
        <th><b>PARAMETER</b></th>
        <th><b> DESCRIPTION</b></th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>f</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The filter to match against. </p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><span title="trulens_eval.instruments.ClassFilter">ClassFilter</span></code>
                </span>
            </p>
          </td>
        </tr>
        <tr>
          <td><code>obj</code></td>
          <td class="doc-param-details">
            <div class="doc-md-description">
              <p>The object to match against. If type, uses <code>issubclass</code> to
match. If object, uses <code>isinstance</code> to match against <code>filters</code>
of <code>Type</code> or <code>Tuple[Type]</code>.</p>
            </div>
            <p>
                <span class="doc-param-annotation">
                  <b>TYPE:</b>
                    <code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" title="typing.Type" href="https://docs.python.org/3/library/typing.html#typing.Type">Type</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#object">object</a>]</code>
                </span>
            </p>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>



  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.indexes", "navigation.top", "navigation.tabs", "navigation.sections", "navigation.tracking", "navigation.path", "search.share", "search.suggest", "toc.follow", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.6eac0284.min.js"></script>
      
        <script src="../../../javascript/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="../../../javascript/tex-mml-chtml-3.0.0.js"></script>
      
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
      
    
  </body>
</html>